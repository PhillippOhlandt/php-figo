<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />

	<title>Class figo\Connection</title>

	<script type="text/javascript" src="resources/combined.js?2404612897"></script>
	<script type="text/javascript" src="elementlist.js?1225341815"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?3505392360" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li class="active"><a href="namespace-figo.html">figo</a>
						</li>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-figo.Account.html">Account</a></li>
				<li><a href="class-figo.AccountBalance.html">AccountBalance</a></li>
				<li><a href="class-figo.AccountType.html">AccountType</a></li>
				<li><a href="class-figo.Base.html">Base</a></li>
				<li><a href="class-figo.Config.html">Config</a></li>
				<li class="active"><a href="class-figo.Connection.html">Connection</a></li>
				<li><a href="class-figo.HttpsRequest.html">HttpsRequest</a></li>
				<li><a href="class-figo.Notification.html">Notification</a></li>
				<li><a href="class-figo.Session.html">Session</a></li>
				<li><a href="class-figo.SynchronizationStatus.html">SynchronizationStatus</a></li>
				<li><a href="class-figo.Transaction.html">Transaction</a></li>
				<li><a href="class-figo.TransactionType.html">TransactionType</a></li>
			</ul>



			<h3>Exceptions</h3>
			<ul>
				<li><a href="class-figo.Exception.html">Exception</a></li>
			</ul>


		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-figo.html" title="Summary of figo"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Connection</h1>


	<div class="description">
	
<p>Represents a non user-bound connection to the figo Connect API</p>

	</div>









	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-figo.html">figo</a><br />
		

		<b>Located at</b> <a href="source-class-figo.Connection.html#27-130" title="Go to source code">Connection.php</a><br />
	</div>



	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-figo.Connection.html#36-47" title="Go to source code">__construct</a>( <span>string <var>$client_id</var></span>, <span>string <var>$client_secret</var></span>, <span>string <var>$redirect_uri</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			
<p>Constructor</p>

		</div>

		<div class="description detailed hidden">
			
<p>Constructor</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$client_id</var></dt>
					<dd><code>string</code><br>the client ID</dd>
					<dt><var>$client_secret</var></dt>
					<dd><code>string</code><br>the client secret</dd>
					<dt><var>$redirect_uri</var></dt>
					<dd><code>string</code><br>redirect URI</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="query_api" id="_query_api">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_query_api">#</a>
		<code><a href="source-class-figo.Connection.html#49-65" title="Go to source code">query_api</a>( <span>string <var>$path</var></span>, <span>array <var>$data</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			
<p>Helper method for making a OAuth 2.0 request</p>

		</div>

		<div class="description detailed hidden">
			
<p>Helper method for making a OAuth 2.0 request</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$path</var></dt>
					<dd><code>string</code><br>the URL path on the server</dd>
					<dt><var>$data</var></dt>
					<dd><code>array</code><br>this optional associative array will be used as url-encoded POST content.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>JSON response<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="login_url" id="_login_url">

		<td class="attributes"><code>
			 public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_login_url">#</a>
		<code><a href="source-class-figo.Connection.html#67-91" title="Go to source code">login_url</a>( <span>string <var>$state</var></span>, <span>string <var>$scope</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			
<p>Get the URL a user should open in the web browser to start the login
process</p>

		</div>

		<div class="description detailed hidden">
			
<p>Get the URL a user should open in the web browser to start the login
process</p>

<p>When the process is completed, the user is redirected to the URL provided to
the constructor and passes on an authentication code. This code can be converted
into an access token for data access.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$state</var></dt>
					<dd><code>string</code><br>this string will be passed on through the complete login process and to the
redirect target at the end. It should be used to validated the authenticity of
the call to the redirect URL</dd>
					<dt><var>$scope</var></dt>
					<dd><code>string</code><br>scope of data access to ask the user for, e.g. <code>accounts=ro</code></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>the URL to be opened by the user<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="obtain_access_token" id="_obtain_access_token">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_obtain_access_token">#</a>
		<code><a href="source-class-figo.Connection.html#93-116" title="Go to source code">obtain_access_token</a>( <span>string <var>$authorization_code_or_refresh_token</var></span>, <span>string <var>$scope</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			
<p>Exchange authorization code or refresh token for access token.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Exchange authorization code or refresh token for access token.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$authorization_code_or_refresh_token</var></dt>
					<dd><code>string</code><br>either the authorization code received as part of the call to the redirect URL
at the end of the logon process, or a refresh token</dd>
					<dt><var>$scope</var></dt>
					<dd><code>string</code><br>scope of data access to ask the user for, e.g. <code>accounts=ro</code></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>associative array with the keys <code>access_token</code>,
<code>refresh_token</code> and <code>expires</code>, as documented in the figo
Connect API specification<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="revoke_token" id="_revoke_token">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_revoke_token">#</a>
		<code><a href="source-class-figo.Connection.html#118-128" title="Go to source code">revoke_token</a>( <span>string <var>$refresh_token_or_access_token</var></span> )</code>

		<div class="description short">
			
<p>Revoke refresh token or access token.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Revoke refresh token or access token.</p>

<p>This action has immediate effect, i.e. you will not be able use that token
anymore after this call.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$refresh_token_or_access_token</var></dt>
					<dd><code>string</code><br>access or refresh token to be revoked</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	</table>


















</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
